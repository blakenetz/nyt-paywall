"use strict";(()=>{var b=['[role*="dialog"]',"iframe",'[aria-live="assertive"]','[class*="Modal"]','[class*="modal"]','[class*="InterstitialWrapper"]','[class*="Paywall"]','[class*="PersistentBottom"]',"[class*=adunit]","[class*=inlineoffer]"];function x(){console.debug("\u{1F373} removing empty divs"),Array.from(document.querySelectorAll("div")).filter(e=>!e.hasChildNodes()).forEach(e=>e.remove())}function C(e){console.debug(`\u{1F373} removing ${e}`),Array.from(document.querySelectorAll(e)).forEach(t=>t.remove())}function m(e){return Object.keys(e).map(t=>`${S(t)}:${e[t]}`).join(";")}function S(e){return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase())}function M(){return c("body")}function c(e){let t=document.querySelector(e);if(t===null)throw Error(`\u{1F373} Unable to find element: ${e}`);return t}function L(e){let n=c(e).cloneNode(!0),o=document.createElement("section");return o.append(n),o}function l(e,t,n="",o={}){let a=document.createElement(e);return a.style.cssText=m(t),n&&(a.textContent=n),o&&Object.keys(o).forEach(i=>a.setAttribute(i,o[i])),a}function f(){let e=c("body"),t=L(".recipe"),n=l("section",{padding:"1em",position:"absolute",top:"0",border:"1em solid salmon",background:"white",zIndex:"1000"},void 0,{id:"insert"}),o=l("div",{display:"flex",justifyContent:"space-between",marginBottom:"1em"}),a=l("h1",{margin:"0"},"Recipe:");o.append(a);let i=l("button",{display:"block"},"-",{class:"toggle-button",id:"collapse"});o.append(i);let r=l("button",{position:"fixed",bottom:"1em",right:"1.5em",display:"none"},"+",{class:"toggle-button",id:"expand"}),s=document.createElement("style"),d={base:{height:"2em",width:"2em",borderRadius:"90px",background:"salmon"},hover:{backgroundColor:"rgb(250 128 114 / 70%)",textDecoration:"none"}},E=`.toggle-button{ ${m(d.base)} }
	.toggle-button:hover, .toggle-button:focus{ ${m(d.hover)} }`;s.appendChild(document.createTextNode(E)),document.getElementsByTagName("head")[0].appendChild(s);function u(h){let k=h.target,p=c("#expand"),g=c("#insert");k.id==="collapse"?(p.style.display="block",g.style.display="none"):(p.style.display="none",g.style.display="block")}i.addEventListener("click",u),r.addEventListener("click",u),addEventListener("beforeunload",()=>{i.removeEventListener("click",u),r.removeEventListener("click",u)}),e.prepend(n),n.append(o),n.append(t),e.append(r)}function y(){console.debug("\u{1F373} removing nodes"),x(),b.forEach(C)}function v(){let e=a=>{a.forEach(i=>{i.addedNodes.forEach(r=>{r instanceof Element&&b.forEach(s=>{if(r.matches(s)||r.querySelectorAll(s).length){console.debug(`\u{1F373} removing ${r.childElementCount} node`);try{r.remove()}catch(d){console.debug("\u{1F373} error removing node: ",d)}}})})})},t=new MutationObserver(e),n=M(),o={subtree:!0,childList:!0};return n&&(console.debug("\u{1F373} instantiating observer"),t.observe(n,o)),t}function T(){let e=v();window.onload=function(){y(),f()},addEventListener("beforeunload",()=>{console.debug("\u{1F373} disconnecting"),e.disconnect()})}try{T()}catch(e){console.debug("\u{1F373} failed \u{1F622}: ",e)}})();
//# sourceMappingURL=index.js.map
